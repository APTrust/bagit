<h1>BagIt Profile</h1>

<form method="post" action="#" id="{{ id }}">

<!--
  <fieldset class="with-border">
    <legend class="with-border">About This Profile</legend>

    {{> inputText field = form.fields.name }}

    {{> inputText field = form.fields.description }}

  </fieldset>

  <fieldset class="with-border">
    <legend class="with-border">General Requirements</legend>

    {{> inputSelect field = form.fields.acceptBagItVersion }}

    {{> inputSelect field = form.fields.allowFetchTxt }}

    {{> inputSelect field = form.fields.allowMiscTopLevelFiles }}

    {{> inputSelect field = form.fields.allowMiscDirectories }}

    {{> inputSelect field = form.fields.manifestsRequired }}

    {{> inputSelect field = form.fields.tagManifestsRequired }}

    {{> inputSelect field = form.fields.serialization }}

  </fieldset>

  <fieldset class="with-border">
    <legend class="with-border">BagIt Profile Info</legend>

    {{> inputText field = form.fields.infoIdentifier }}

    {{> inputText field = form.fields.infoContactEmail }}

    {{> inputText field = form.fields.infoContactName }}

    {{> inputText field = form.fields.infoExternalDescription }}

    {{> inputText field = form.fields.infoVersion }}

  </fieldset>

  <fieldset class="with-border">
    <legend class="with-border">Required Tags</legend>

    {{#each inlineForms }}

      {{> inputText field = form.fields.tagFile }}

      {{> inputText field = form.fields.tagName }}

      {{> inputSelect field = form.fields.required }}

      {{> inputSelect field = form.fields.emptyOk }}

      {{> inputTextArea field = form.fields.values }}

      {{> inputText field = form.fields.defaultValue }}

    {{/each }}

  </fieldset>
-->

<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">About This Profile</h3>
      </div>
      <div class="panel-body">

        {{> inputText field = form.fields.name }}

        {{> inputText field = form.fields.description }}

      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title"><a href="#generalReqs" data-toggle="collapse">General Requirements</a></h3>
      </div>
      <div class="panel-body panel-collapse in" id="generalReqs">

        {{> inputSelect field = form.fields.allowFetchTxt }}

        {{> inputSelect field = form.fields.allowMiscTopLevelFiles }}

        {{> inputSelect field = form.fields.allowMiscDirectories }}

        {{> inputSelect field = form.fields.serialization }}

        {{> inputSelect field = form.fields.acceptBagItVersion }}

        {{> inputSelect field = form.fields.manifestsRequired }}

        {{> inputSelect field = form.fields.tagManifestsRequired }}

      </div>
    </div>
  </div>
</div>


<!--
<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">BagIt Profile Info</h3>
      </div>
      <div class="panel-body">

        <div class="well">
          Fill out this section only if you intend to make your
          BagIt profile a published standard. If your profile is
          for internal use, leave this section blank.
        </div>

        {{> inputText field = form.fields.infoIdentifier }}

        {{> inputText field = form.fields.infoContactEmail }}

        {{> inputText field = form.fields.infoContactName }}

        {{> inputText field = form.fields.infoExternalDescription }}

        {{> inputText field = form.fields.infoVersion }}

      </div>
    </div>
  </div>
</div>
-->


{{#each tags }}
<div class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title"><a href="#tags{{ @index }}" data-toggle="collapse">Tags in {{ @key }}</a></h3>
      </div>
      <div class="panel-body panel-collapse in" id="tags{{ @index }}">
        <table class="table table-hover">
          <thead class="thead-inverse">
            <tr>
              <th>Tag Name</th>
              <th>Default Value</th>
            </tr>
          </thead>
          <tbody>
            {{#each this as |tag| }}
            <tr class="clickable-row" data-object-id="{{ tag.id }}" data-object-type="TagDefinition">
              <td>{{ tag.tagName }}</td>
              <td>{{ tag.defaultValue }}</td>
            </tr>
            {{/each }}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{{/each}}

  {{> inputHidden field = form.fields.id }}

  <div class="form-group">
    <button type="button" id="btnBagItProfileSave" class="btn btn-default">Save</button>
  </div>
</form>


<script>
  $('[data-toggle="popover"]').popover();
</script>
